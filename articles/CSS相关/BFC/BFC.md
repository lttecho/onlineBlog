# BFC

## BFC概念

BFC（Block Formatting Context）块格式化上下文：是页面中的一块独立的**渲染区域**，有一套渲染规则，决定了这个区域内块级盒子的布局，以及浮动元素与其他元素的交互规则。

通俗来讲，拥有BFC特性的盒子是一个隔离了外部的独立容器，容器内部的元素不会在布局上影响容器外部的元素。也就是说无论BFC元素内部再怎么翻江蹈海，都不会影响外部元素。



## 为什么会出现BFC特性

BFC特性是在CSS2.1后规范中提出的一个概念，为什么会出现这样一个概念呢？原因就是消除盒子与盒子之间布局的影响，BFC特性对于浮动定位和清除浮动、外边距折叠有重要作用。

页面中的每个元素都可以看作一个一个盒子，理想情况下，每个盒子内部都是独立的，不应该影响其他盒子的内部布局。但现实情况却不是如此，比如：子元素的浮动会导致父元素高度坍塌，利用浮动进行两栏自适应布局会形成文字环绕效果，垂直方向上的两个元素外边距重叠。

**如何触发BFC特性：**

常见的有4种——

- 设置float为非none（浮动元素）
- 设置position为绝对定位元素（absolute或者fixed）
- 设置overflow为auto、hidden、scroll
- 设置display为：
  - inline-block（行内块级元素）
  - table、inline-table、table-cell、table-row、table-row-group、table-header-group、table-footer-group、table-caption（表格相关元素）
  - flex、inline-flex（弹性元素）
  - grid、inline-grid（网格元素）

总而言之，创建的BFC元素，或者说这个块级盒子，会包裹住它内部的所有元素。



## BFC布局规则

- 内部的盒子会在垂直方向上，一个接一个地放置
- 盒子间垂直方向上的距离由margin决定，同一个BFC内的两个相邻盒子的margin会发生重叠
- BFC的区域不会与浮动元素重叠
- 计算BFC元素的高度时，浮动元素的高度也参与计算



## BFC特性解决了哪些问题

#### 解决子元素浮动造成父元素高度坍塌的问题



